var af;!function(l){"undefined"!=typeof acf?((af={setup_form:function(a){var e={$el:a};this.pages.initialize(e),"doAction"in acf?acf.doAction("af/form/setup",e):acf.do_action("af/form/setup",e)}}).pages={initialize:function(f){var e=this;if($page_fields=f.$el.find(".acf-field-page"),$page_fields.exists()){f.pages=[],f.current_page=0,f.max_page=0,f.show_numbering=!0,f.$page_wrap=l('<div class="af-page-wrap">'),f.$page_wrap.insertBefore($page_fields.first()),f.$previous_button=$page_fields.first().find(".af-previous-button"),f.$next_button=$page_fields.first().find(".af-next-button"),f.show_numbering="true"===$page_fields.first().find(".af-page-button").attr("data-show-numbering"),f.$previous_button.click(function(a){a.preventDefault(),e.previousPage(f)}),f.$next_button.click(function(a){a.preventDefault(),e.nextPage(f)});var a=f.$el.find(".af-submit");a.prepend(f.$next_button),a.prepend(f.$previous_button),f.$submit_button=a.find(".af-submit-button"),$page_fields.each(function(e,a){var t=l(a),i=t.find(".af-page-button").attr("data-index",e);i.click(function(a){a.preventDefault(),af.pages.navigateToPage(e,f)}),f.show_numbering&&($index=l('<span class="index">').html(e+1),i.prepend($index)),f.$page_wrap.append(i),t.hide();var n=t.nextUntil(".acf-field-page",".acf-field");f.pages.push({$field:t,$fields:n,$button:i})}),this.refresh(f)}},refresh:function(i){l.each(i.pages,function(a,e){var t=a==i.current_page;e.$button.toggleClass("enabled",a<=i.max_page),e.$button.toggleClass("current",t),e.$fields.each(function(){l(this).toggle(t)})});var a=this.isFirstPage(i),e=this.isLastPage(i);i.$previous_button.attr("disabled",!!a||null),i.$next_button.toggle(!e),i.$submit_button.toggle(e)},nextPage:function(a){if(!this.isLastPage(a)){var e=this;this.validatePage(a,a.current_page,function(){a.current_page++,a.max_page<=a.current_page&&(a.max_page=a.current_page),e.refresh(a)})}},previousPage:function(a){this.isFirstPage(a)||(a.current_page--,this.refresh(a))},navigateToPage:function(a,e){if(!(a<0||a>e.max_page)){var t=this;this.validatePage(e,e.current_page,function(){e.current_page=a,t.refresh(e)})}},isFirstPage:function(a){return 0==a.current_page},isLastPage:function(a){return a.current_page==a.pages.length-1},validatePage:function(e,a,t){var i=e.pages[a],n=l("<div>");n.append(e.$el.find("#acf-form-data").clone()),n.append(e.$el.find(".acf-hidden").clone());var f=i.$fields.detach();n.append(f);var c=acf.serialize(n);if(f.detach().insertAfter(i.$field),c.action="acf/validate_save_post",c=acf.prepare_for_ajax(c),void 0!==acf.validation.lockForm){var d=function(){return c};acf.addFilter("prepare_for_ajax",d),acf.validation.fetch({form:e.$el,lock:!1,reset:!0,success:function(){t()}}),acf.removeFilter("prepare_for_ajax",d)}else{acf.validation.toggle(e.$el,"lock"),(c=acf.serialize(i.$fields.clone())).action="acf/validate_save_post",c=acf.prepare_for_ajax(c),l.ajax({url:acf.get("ajaxurl"),data:c,type:"post",dataType:"json",success:function(a){acf.validation.toggle(e.$el,"unlock"),acf.is_ajax_success(a)&&acf.validation.fetch_success(e.$el,a.data)},complete:function(){acf.validation.valid&&(acf.remove_el(e.$el.children(".acf-error-message")),t())}})}}},l(document).ready(function(){l(".af-form").each(function(){af.setup_form(l(this))})})):console.error("acf-input.js not found. AF requires ACF to work.")}(jQuery),function(f){af.calculated={initialize:function(t){$calculated_fields=t.$el.find(".acf-field-calculated"),$calculated_fields.each(function(a,e){af.calculated.setupField(t,f(e))})},setupField:function(a,e){var t=this,i=e.attr("data-name"),n=e.attr("data-key"),f=function(){t.refreshField(a,e)};f(),a.$el.change(f),"addAction"in acf?(acf.addAction("af/field/calculated/update_value",f),acf.addAction("af/field/calculated/update_value/name="+i,f),acf.addAction("af/field/calculated/update_value/key="+n,f)):(acf.add_action("af/field/calculated/update_value",f),acf.add_action("af/field/calculated/update_value/name="+i,f),acf.add_action("af/field/calculated/update_value/key="+n,f))},refreshField:function(e,t){var i=this,a=t.attr("data-key"),n=acf.serialize(e.$el);n.action="af_calculated_field",n.calculated_field=a,n=acf.prepare_for_ajax(n),i.lockField(t),f.ajax({url:acf.get("ajaxurl"),data:n,type:"post",success:function(a){i.updateField(e,t,a)},complete:function(){i.unlockField(t)}})},updateField:function(a,e,t){e.find("input.af-calculated-value").val(t),e.find(".af-calculated-content").html(t);var i=e.attr("data-name"),n=e.attr("data-key");acf.doAction("af/field/calculated/value_updated",t,e,a),acf.doAction("af/field/calculated/value_updated/name="+i,t,e,a),acf.doAction("af/field/calculated/value_updated/key="+n,t,e,a),"doAction"in acf?(acf.doAction("af/field/calculated/value_updated",t,e,a),acf.doAction("af/field/calculated/value_updated/name="+i,t,e,a),acf.doAction("af/field/calculated/value_updated/key="+n,t,e,a)):(acf.do_action("af/field/calculated/value_updated",t,e,a),acf.do_action("af/field/calculated/value_updated/name="+i,t,e,a),acf.do_action("af/field/calculated/value_updated/key="+n,t,e,a))},lockField:function(a){a.find(".af-input").css("opacity",.5)},unlockField:function(a){a.find(".af-input").css("opacity",1)}},"addAction"in acf?acf.addAction("af/form/setup",af.calculated.initialize):acf.add_action("af/form/setup",af.calculated.initialize),af.addPostID=function(a){if(!a.hasOwnProperty("field_key"))return a;var e=a.field_key,t=f('.af-field[data-key="'+e+'"]');if(!t.length)return a;var i=t.siblings(".acf-hidden").find('input[name="post_id"]');return i.length&&(a.post_id=i.val()),a},"addFilter"in acf?acf.addFilter("prepare_for_ajax",af.addPostID):acf.add_filter("prepare_for_ajax",af.addPostID)}(jQuery);